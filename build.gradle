plugins {
    id 'java'
    id 'application'
    id 'com.github.johnrengelman.shadow' version '1.2.4'}

mainClassName = 'de.blockbuild.musikbot.Main'
version = '0.0.1'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    jcenter()
    mavenCentral()
    maven {
        url 'https://hub.spigotmc.org/nexus/content/repositories/snapshots/'
    }
}

dependencies {
    //compile "joda-time:joda-time:2.2"
    //testCompile "junit:junit:4.12"
    compile 'com.sedmelluq:lavaplayer:1.3.10'
    compile 'net.dv8tion:JDA:3.8.1_448'
    
    compileOnly 'org.bukkit:bukkit:1.12.2-R0.1-SNAPSHOT'  
}

jar {
    baseName = project.name
    //version =  '0.0.1'
    manifest {
        attributes 'Implementation-Version': version
        attributes 'Main-Class': mainClassName
    }
}

shadowJar {
    classifier = 'Shaded'
    dependencies {
    //exclude(dependency('org.spigotmc:spigot-api:1.11.2-R0.1-SNAPSHOT'))
    }
}

build {
    dependsOn shadowJar
}